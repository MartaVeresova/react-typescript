(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[3],{292:function(t,e,s){"use strict";s.d(e,"a",(function(){return u}));var n=s(4),a=s(88),r=(s(0),s(11)),c=s(20),i=s(1),o=function(t){return{isAuth:t.auth.isAuth}};function u(t){return Object(c.b)(o)((function(e){var s=e.isAuth,c=Object(a.a)(e,["isAuth"]);return s?Object(i.jsx)(t,Object(n.a)({},c)):Object(i.jsx)(r.a,{to:"/login"})}))}},293:function(t,e,s){t.exports={profile:"Profile_profile__395W3"}},294:function(t,e,s){t.exports={myPosts:"MyPosts_myPosts__1Sq30",button:"MyPosts_button__3kRgS"}},296:function(t,e,s){t.exports={profileInfo:"ProfileInfo_profileInfo__26XEX",descriptionBlock:"ProfileInfo_descriptionBlock__2MG0-"}},297:function(t,e,s){t.exports={item:"Post_item__1AFhw"}},301:function(t,e,s){"use strict";s.r(e);var n=s(36),a=s(37),r=s(40),c=s(39),i=s(0),o=s(293),u=s.n(o),j=s(296),l=s.n(j),p=s(41),b=s(128),d=s(1),f=function(t){var e=t.status,s=t.updateUserStatus,n=Object(i.useState)(!1),a=Object(b.a)(n,2),r=a[0],c=a[1],o=Object(i.useState)(e),u=Object(b.a)(o,2),j=u[0],l=u[1];Object(i.useEffect)((function(){l(e)}),[e]);return Object(d.jsxs)("div",{children:[!r&&Object(d.jsx)("div",{children:Object(d.jsx)("span",{onDoubleClick:function(){c(!0)},children:"\ud83d\udd8a\ufe0f ".concat(e," ")})}),r&&Object(d.jsx)("div",{children:Object(d.jsx)("input",{autoFocus:!0,value:j,onBlur:function(){c(!1),s(j)},onChange:function(t){l(t.currentTarget.value)}})})]})},h=function(t){var e=t.profile,s=t.status,n=t.updateUserStatus;return e?Object(d.jsxs)("div",{className:l.a.profileInfo,children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:"https://images.ctfassets.net/hrltx12pl8hq/7yQR5uJhwEkRfjwMFJ7bUK/dc52a0913e8ff8b5c276177890eb0129/offset_comp_772626-opt.jpg?fit=fill&w=800&h=300",alt:""})}),Object(d.jsxs)("div",{className:l.a.descriptionBlock,children:[Object(d.jsx)("img",{src:e.photos.large,alt:""}),Object(d.jsx)(f,{status:s,updateUserStatus:n})]})]}):Object(d.jsx)(p.a,{})},O=s(95),x=s(297),m=s.n(x),v=function(t){var e=t.message,s=t.likesCount;return Object(d.jsxs)("div",{className:m.a.item,children:[Object(d.jsx)("img",{src:"https://shapka-youtube.ru/wp-content/uploads/2021/02/prikolnaya-avatarka-dlya-patsanov.jpg",alt:""}),e,Object(d.jsx)("div",{children:Object(d.jsx)("span",{children:s})})]})},g=s(294),_=s.n(g),P=s(127),k=s(73),S=s(126),y=s(65),U=Object(k.a)(10),w=Object(i.memo)((function(t){var e=t.postsData,s=t.addPost,n=e.map((function(t){return Object(d.jsx)(v,{message:t.message,likesCount:t.likesCount},t.id)}));return Object(d.jsxs)("div",{className:_.a.myPosts,children:[Object(d.jsx)("h3",{children:"My posts"}),Object(d.jsx)(I,{onSubmit:function(t){s(t.newPostText)}}),Object(d.jsx)("div",{children:n})]})})),I=Object(P.a)({form:"addPostForm"})((function(t){var e=t.handleSubmit;return Object(d.jsxs)("form",{onSubmit:e,children:[Object(d.jsx)("div",{children:Object(d.jsx)(S.a,{placeholder:"enter text",name:"newPostText",component:y.b,validate:[k.b,U]})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:_.a.button,children:"Add post"})})]})})),A=s(20),N=Object(A.b)((function(t){return{postsData:t.profilePage.postsData}}),{addPost:O.a})(w),C=function(t){var e=t.profile,s=t.updateUserStatus,n=t.status;return Object(d.jsxs)("div",{className:u.a.profile,children:[Object(d.jsx)(h,{profile:e,status:n,updateUserStatus:s}),Object(d.jsx)(N,{})]})},M=s(11),D=s(292),J=s(10),B=function(t){Object(r.a)(s,t);var e=Object(c.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var t=this.props,e=t.match,s=t.authorizedUserId,n=t.history,a=t.getUserProfile,r=t.getUserStatus,c=e.params.userId;c||(c=JSON.stringify(s))||n.push("/login"),a(c),r(c)}},{key:"render",value:function(){return Object(d.jsx)("div",{className:u.a.profile,children:Object(d.jsx)(C,{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus})})}}]),s}(i.Component);e.default=Object(J.d)(Object(A.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:O.b,getUserStatus:O.c,updateUserStatus:O.e}),M.f,D.a)(B)}}]);
//# sourceMappingURL=3.8115d22a.chunk.js.map