(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{128:function(e,t,n){e.exports={news:"News_news__1E9ra"}},129:function(e,t,n){e.exports={music:"Music_music__P7Nrm"}},130:function(e,t,n){e.exports={settings:"Settings_settings__hPAd8"}},131:function(e,t,n){e.exports={message:"Message_message__1jjej"}},134:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__Sr8R7"}},135:function(e,t,n){e.exports={item:"Post_item__1AFhw"}},15:function(e,t,n){e.exports={nav:"Navbar_nav__6-fH1",item:"Navbar_item__3Ldnh",activeLink:"Navbar_activeLink__uFs2O"}},167:function(e,t,n){},291:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(64),c=n.n(s),i=(n(167),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,293)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))}),o=n(28),u=n(29),l=n(32),j=n(31),d=n(88),p=n.n(d),b=n(13),f=n(15),O=n.n(f),g=n(0),h=function(){return Object(g.jsxs)("nav",{className:O.a.nav,children:[Object(g.jsx)("div",{className:O.a.item,children:Object(g.jsx)(b.b,{to:"/profile",activeClassName:O.a.activeLink,children:"Profile"})}),Object(g.jsx)("div",{className:"".concat(O.a.item," ").concat(O.a.active),children:Object(g.jsx)(b.b,{to:"/dialogs",activeClassName:O.a.activeLink,children:"Messages"})}),Object(g.jsx)("div",{className:"".concat(O.a.item," ").concat(O.a.active),children:Object(g.jsx)(b.b,{to:"/users",activeClassName:O.a.activeLink,children:"Users"})}),Object(g.jsx)("div",{className:O.a.item,children:Object(g.jsx)(b.b,{to:"/news",activeClassName:O.a.activeLink,children:"News"})}),Object(g.jsx)("div",{className:O.a.item,children:Object(g.jsx)(b.b,{to:"/music",activeClassName:O.a.activeLink,children:"Music"})}),Object(g.jsx)("div",{className:O.a.item,children:Object(g.jsx)(b.b,{to:"/settings",activeClassName:O.a.activeLink,children:"Settings"})})]})},m=n(128),x=n.n(m),v=function(){return Object(g.jsx)("div",{className:x.a.news,children:"News"})},P=n(129),S=n.n(P),_=function(){return Object(g.jsx)("div",{className:S.a.music,children:"Music"})},w=n(130),C=n.n(w),y=function(){return Object(g.jsx)("div",{className:C.a.settings,children:"Settings"})},N=n(11),E=n(34),I=n(3),k=n(292),U={dialogsData:[{id:Object(k.a)(),name:"Marta"},{id:Object(k.a)(),name:"Sasha"},{id:Object(k.a)(),name:"Vera"},{id:Object(k.a)(),name:"Anton"},{id:Object(k.a)(),name:"Vanya"}],messagesData:[{id:Object(k.a)(),messageContent:"Hello"},{id:Object(k.a)(),messageContent:"How are you?"},{id:Object(k.a)(),messageContent:"Yo"}]},T=n(43),L=n.n(T),A=n(131),D=n.n(A),F=function(e){var t=e.messageContent;return Object(g.jsx)("div",{className:D.a.message,children:t})},M=n(91),R=n.n(M),z=function(e){var t=e.id,n=e.name,r="/dialogs/"+t;return Object(g.jsx)("div",{className:"".concat(R.a.item," ").concat(R.a.activeLink),children:Object(g.jsxs)(b.b,{to:r,children:[Object(g.jsx)("img",{src:"https://avatars.mds.yandex.net/get-pdb/1025945/a6f96698-c78d-44fb-b802-38e74e0164dd/s1200",alt:""}),n]})})},G=n(126),W=function(e){if(!e)return"Field is required"},B=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},H=n(125),V=n(55),q=n(51),J=n.n(q),X=function(e){var t=e.meta,n=t.touched,r=t.error,a=e.children,s=n&&r;return Object(g.jsxs)("div",{className:J.a.formControl+" "+(s&&J.a.error),children:[Object(g.jsx)("div",{children:a}),s&&Object(g.jsx)("span",{children:r})]})},Z=function(e){var t=e.input,n=(e.meta,e.children,Object(V.a)(e,["input","meta","children"]));return Object(g.jsx)(X,Object(I.a)(Object(I.a)({},e),{},{children:Object(g.jsx)("textarea",Object(I.a)(Object(I.a)({},t),n))}))},K=function(e){var t=e.input,n=(e.meta,e.children,Object(V.a)(e,["input","meta","children"]));return Object(g.jsx)(X,Object(I.a)(Object(I.a)({},e),{},{children:Object(g.jsx)("input",Object(I.a)(Object(I.a)({},t),n))}))},Y=B(50),Q=Object(G.a)({form:"addMessageForm"})((function(e){var t=e.handleSubmit;return Object(g.jsxs)("form",{onSubmit:t,children:[Object(g.jsx)("div",{children:Object(g.jsx)(H.a,{className:L.a.textarea,placeholder:"Enter your message",name:"newMessageText",component:Z,validate:[W,Y]})}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{children:"Add message"})})]})})),$=n(12),ee=function(e){return{isAuth:e.auth.isAuth}};function te(e){return Object($.b)(ee)((function(t){var n=t.isAuth,r=Object(V.a)(t,["isAuth"]);return n?Object(g.jsx)(e,Object(I.a)({},r)):Object(g.jsx)(N.a,{to:"/login"})}))}var ne,re=n(9),ae=Object(re.d)(Object($.b)((function(e){return{stateDialogsPage:e.dialogsPage}}),{addMessage:function(e){return{type:"dialogsPage/ADD-MESSAGE",newMessageText:e}}}),te)((function(e){var t=e.stateDialogsPage,n=e.addMessage,r=t.dialogsData.map((function(e){return Object(g.jsx)(z,{name:e.name,id:e.id},e.id)})),a=t.messagesData.map((function(e){return Object(g.jsx)(F,{messageContent:e.messageContent},e.id)}));return Object(g.jsxs)("div",{className:L.a.dialogs,children:[Object(g.jsx)("div",{className:L.a.dialogsItem,children:r}),Object(g.jsxs)("div",{className:L.a.messagesItem,children:[a,Object(g.jsx)(Q,{onSubmit:function(e){n(e.newMessageText)}})]})]})})),se=n(10),ce=n.n(se),ie=n(16),oe=n(133),ue=n.n(oe).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"a53e0f65-c3ac-4834-99fc-a88db669947f"}}),le={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return ue.get("users?page=".concat(e,"&count=").concat(t))},followUsers:function(e){return ue.post("follow/".concat(e))},unfollowUsers:function(e){return ue.delete("follow/".concat(e))}},je=function(e){return ue.get("profile/".concat(e))},de=function(e){return ue.get("/profile/status/".concat(e))},pe=function(e){return ue.put("/profile/status",{status:e})},be=function(){return ue.get("auth/me")},fe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return ue.post("/auth/login",{email:e,password:t,rememberMe:n,captcha:r})},Oe=function(){return ue.delete("/auth/login")};!function(e){e[e.success=0]="success",e[e.error=1]="error",e[e.captcha=10]="captcha"}(ne||(ne={}));var ge=function(e,t,n){return e.map((function(e){return e.id===t?Object(I.a)(Object(I.a)({},e),{},{followed:n}):e}))},he={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},me=function(e){return{type:"usersPage/FOLLOW",userId:e}},xe=function(e){return{type:"usersPage/UNFOLLOW",userId:e}},ve=function(e){return{type:"usersPage/SET-CURRENT-PAGE",currentPage:e}},Pe=function(e){return{type:"usersPage/TOGGLE-IS-FETCHING",value:e}},Se=function(e,t){return{type:"usersPage/TOGGLE-IS-FOLLOWING-PROGRESS",inProgress:e,userId:t}},_e=function(){var e=Object(ie.a)(ce.a.mark((function e(t,n,r,a){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Se(!0,n)),e.next=3,r(n);case 3:e.sent.data.resultCode===ne.success&&t(a(n)),t(Se(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),we=n(54),Ce=n(71),ye=n.n(Ce),Ne=function(e){for(var t=e.totalItemsCount,n=e.currentPage,a=e.pageSize,s=e.onPageChanged,c=e.portionSize,i=Math.ceil(t/a),o=[],u=1;u<=i;u++)o.push(u);var l=Object(r.useState)(1),j=Object(we.a)(l,2),d=j[0],p=j[1],b=Math.ceil(i/c),f=(d-1)*c+1,O=d*c;return Object(g.jsxs)("div",{className:ye.a.pagination,children:[d>1&&Object(g.jsx)("button",{onClick:function(){return p(d-1)},children:"PREV"}),o.filter((function(e){return e>=f&&e<=O})).map((function(e){return Object(g.jsx)("span",{className:n===e?ye.a.selectedPage:ye.a.pageNumber,onClick:function(t){return s(e)},children:e},e)})),b>d&&Object(g.jsx)("button",{onClick:function(){return p(d+1)},children:"NEXT"})]})},Ee=n.p+"static/media/user.4409fc97.png",Ie=n(134),ke=n.n(Ie),Ue=function(e){var t=e.user,n=e.followingInProgress,r=e.follow,a=e.unfollow;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{children:[Object(g.jsx)("div",{children:Object(g.jsx)(b.b,{to:"/profile/"+t.id,children:Object(g.jsx)("img",{src:null!==t.photos.small?t.photos.small:Ee,className:ke.a.userPhoto,alt:""})})}),Object(g.jsx)("div",{children:t.followed?Object(g.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){return a(t.id)},children:"unFollow"}):Object(g.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){return r(t.id)},children:"follow"})})]}),Object(g.jsxs)("span",{children:[Object(g.jsx)("div",{children:t.name}),Object(g.jsx)("div",{children:t.status})]}),Object(g.jsxs)("span",{children:[Object(g.jsx)("div",{children:"u.location.country"}),Object(g.jsx)("div",{children:"u.location.city"})]})]})},Te=function(e){var t=e.totalUsersCount,n=e.users,r=e.currentPage,a=e.pageSize,s=e.followingInProgress,c=e.follow,i=e.onPageChanged,o=e.unfollow;return Object(g.jsxs)("div",{children:[Object(g.jsx)(Ne,{currentPage:r,onPageChanged:i,pageSize:a,totalItemsCount:t,portionSize:10}),Object(g.jsx)("div",{children:n.map((function(e){return Object(g.jsx)(Ue,{user:e,followingInProgress:s,follow:c,unfollow:o},e.id)}))})]})},Le=n.p+"static/media/preloader.5665744c.svg",Ae=function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("img",{src:Le,alt:""})})},De=function(e){return e.usersPage.users},Fe=function(e){return e.usersPage.pageSize},Me=function(e){return e.usersPage.totalUsersCount},Re=function(e){return e.usersPage.currentPage},ze=function(e){return e.usersPage.isFetching},Ge=function(e){return e.usersPage.followingInProgress},We=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){var n=e.props;(0,n.requestUsers)(t,n.pageSize)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.requestUsers)(e.currentPage,e.pageSize)}},{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[this.props.isFetching?Object(g.jsx)(Ae,{}):null,Object(g.jsx)(Te,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress,toggleIsFollowingProgress:this.props.toggleIsFollowingProgress})]})}}]),n}(r.Component),Be=Object(re.d)(Object($.b)((function(e){return{users:De(e),pageSize:Fe(e),totalUsersCount:Me(e),currentPage:Re(e),isFetching:ze(e),followingInProgress:Ge(e)}}),{follow:function(e){return function(){var t=Object(ie.a)(ce.a.mark((function t(n){var r;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=le.followUsers.bind(le),_e(n,e,r,me);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(ie.a)(ce.a.mark((function t(n){var r;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=le.unfollowUsers.bind(le),_e(n,e,r,xe);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:ve,toggleIsFollowingProgress:Se,requestUsers:function(e,t){return function(){var n=Object(ie.a)(ce.a.mark((function n(r){var a;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Pe(!0)),r(ve(e)),n.next=4,le.getUsers(e,t);case 4:a=n.sent,r(Pe(!1)),r({type:"usersPage/SET-USERS",users:a.data.items}),r({type:"usersPage/SET-TOTAL-USERS-COUNT",totalCount:a.data.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(We),He=n(68),Ve=n.n(He),qe=n(94),Je=n.n(qe),Xe=function(e){var t=e.status,n=e.updateUserStatus,a=Object(r.useState)(!1),s=Object(we.a)(a,2),c=s[0],i=s[1],o=Object(r.useState)(t),u=Object(we.a)(o,2),l=u[0],j=u[1];Object(r.useEffect)((function(){j(t)}),[t]);return Object(g.jsxs)("div",{children:[!c&&Object(g.jsx)("div",{children:Object(g.jsx)("span",{onDoubleClick:function(){i(!0)},children:"\ud83d\udd8a\ufe0f ".concat(t," ")})}),c&&Object(g.jsx)("div",{children:Object(g.jsx)("input",{autoFocus:!0,value:l,onBlur:function(){i(!1),n(l)},onChange:function(e){j(e.currentTarget.value)}})})]})},Ze=function(e){var t=e.profile,n=e.status,r=e.updateUserStatus;return t?Object(g.jsxs)("div",{className:Je.a.profileInfo,children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:"https://images.ctfassets.net/hrltx12pl8hq/7yQR5uJhwEkRfjwMFJ7bUK/dc52a0913e8ff8b5c276177890eb0129/offset_comp_772626-opt.jpg?fit=fill&w=800&h=300",alt:""})}),Object(g.jsxs)("div",{className:Je.a.descriptionBlock,children:[Object(g.jsx)("img",{src:t.photos.large,alt:""}),Object(g.jsx)(Xe,{status:n,updateUserStatus:r})]})]}):Object(g.jsx)(Ae,{})},Ke={postsData:[{id:Object(k.a)(),message:"Hello",likesCount:11},{id:Object(k.a)(),message:"Buy",likesCount:15},{id:Object(k.a)(),message:"How are you?",likesCount:7},{id:Object(k.a)(),message:"I am fine, and you?",likesCount:5}],profile:null,status:""},Ye=function(e){return{type:"profilePage/SET-STATUS",status:e}},Qe=n(135),$e=n.n(Qe),et=function(e){var t=e.message,n=e.likesCount;return Object(g.jsxs)("div",{className:$e.a.item,children:[Object(g.jsx)("img",{src:"https://shapka-youtube.ru/wp-content/uploads/2021/02/prikolnaya-avatarka-dlya-patsanov.jpg",alt:""}),t,Object(g.jsx)("div",{children:Object(g.jsx)("span",{children:n})})]})},tt=n(69),nt=n.n(tt),rt=B(10),at=Object(r.memo)((function(e){var t=e.postsData,n=e.addPost,r=t.map((function(e){return Object(g.jsx)(et,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(g.jsxs)("div",{className:nt.a.myPosts,children:[Object(g.jsx)("h3",{children:"My posts"}),Object(g.jsx)(st,{onSubmit:function(e){n(e.newPostText)}}),Object(g.jsx)("div",{children:r})]})})),st=Object(G.a)({form:"addPostForm"})((function(e){var t=e.handleSubmit;return Object(g.jsxs)("form",{onSubmit:t,children:[Object(g.jsx)("div",{children:Object(g.jsx)(H.a,{placeholder:"enter text",name:"newPostText",component:Z,validate:[W,rt]})}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{className:nt.a.button,children:"Add post"})})]})})),ct=Object($.b)((function(e){return{postsData:e.profilePage.postsData}}),{addPost:function(e){return{type:"profilePage/ADD-POST",newPostText:e}}})(at),it=function(e){var t=e.profile,n=e.updateUserStatus,r=e.status;return Object(g.jsxs)("div",{className:Ve.a.profile,children:[Object(g.jsx)(Ze,{profile:t,status:r,updateUserStatus:n}),Object(g.jsx)(ct,{})]})},ot=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,n=e.authorizedUserId,r=e.history,a=e.getUserProfile,s=e.getUserStatus,c=t.params.userId;c||(c=JSON.stringify(n))||r.push("/login"),a(c),s(c)}},{key:"render",value:function(){return Object(g.jsx)("div",{className:Ve.a.profile,children:Object(g.jsx)(it,{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus})})}}]),n}(r.Component),ut=Object(re.d)(Object($.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(ie.a)(ce.a.mark((function t(n){var r;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je(e);case 2:r=t.sent,n({type:"profilePage/SET-USER-PROFILE",profile:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(ie.a)(ce.a.mark((function t(n){var r;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de(e);case 2:r=t.sent,n(Ye(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(ie.a)(ce.a.mark((function t(n){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe(e);case 2:0===t.sent.data.resultCode&&n(Ye(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),N.f,te)(ot),lt=n(95),jt=n.n(lt),dt=n.p+"static/media/Logo_header.8aaf41b6.png",pt=function(e){var t=e.isAuth,n=e.login,r=e.logout;return Object(g.jsxs)("header",{className:jt.a.header,children:[Object(g.jsx)("img",{src:dt,alt:""}),Object(g.jsx)("div",{className:jt.a.loginBlock,children:t?Object(g.jsxs)("div",{children:[n," ",Object(g.jsx)("button",{onClick:r,children:"Log out"})]}):Object(g.jsx)(b.b,{to:"/login",children:"Login"})})]})},bt=n(25),ft={userId:null,email:null,login:null,captcha:!1,isAuth:!1},Ot=function(e,t,n,r,a){return{type:"auth/SET-USER-DATA",payload:{userId:e,email:t,login:n,captcha:r,isAuth:a}}},gt=function(){return function(){var e=Object(ie.a)(ce.a.mark((function e(t){var n,r,a,s,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:return(n=e.sent).data.resultCode===ne.success&&(r=n.data.data,a=r.id,s=r.email,c=r.login,t(Ot(a,s,c,!0,!0))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ht=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(g.jsx)(pt,Object(I.a)({},this.props))}}]),n}(r.Component),mt=Object($.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(ie.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:e.sent.data.resultCode===ne.success&&t(Ot(null,null,null,!1,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ht),xt=Object(G.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(g.jsxs)("form",{onSubmit:t,children:[Object(g.jsx)("div",{children:Object(g.jsx)(H.a,{placeholder:"Email",name:"email",component:K,validate:[W]})}),Object(g.jsx)("div",{children:Object(g.jsx)(H.a,{placeholder:"Password",name:"password",component:K,validate:[W],type:"password"})}),Object(g.jsxs)("div",{children:[Object(g.jsx)(H.a,{type:"checkbox",name:"rememberMe",component:K})," remember me"]}),n&&Object(g.jsx)("div",{className:J.a.formSummaryError,children:n}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{children:"Login"})})]})})),vt=Object($.b)((function(e){return{captcha:e.auth.captcha,isAuth:e.auth.isAuth}}),{login:function(e,t,n,r){return function(){var a=Object(ie.a)(ce.a.mark((function a(s){var c;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fe(e,t,n,r);case 2:(c=a.sent).data.resultCode===ne.success?s(gt()):c.data.messages.length?s(Object(bt.a)("login",{_error:c.data.messages[0]})):s(Object(bt.a)("login",{_error:"Some error"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.isAuth;e.captcha,e.children;return n?Object(g.jsx)(N.a,{to:"/profile"}):Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Login"}),Object(g.jsx)(xt,{onSubmit:function(e){t(e.email,e.password,e.rememberMe,e.captcha)}})]})})),Pt={initialized:!1},St=n(136),_t={},wt=n(127),Ct=Object(re.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profilePage/ADD-POST":return Object(I.a)(Object(I.a)({},e),{},{postsData:[].concat(Object(E.a)(e.postsData),[{id:Object(k.a)(),message:t.newPostText,likesCount:0}])});case"profilePage/SET-USER-PROFILE":return Object(I.a)(Object(I.a)({},e),{},{profile:t.profile});case"profilePage/SET-STATUS":return Object(I.a)(Object(I.a)({},e),{},{status:t.status});case"profilePage/REMOVE-POST":return Object(I.a)(Object(I.a)({},e),{},{postsData:Object(E.a)(e.postsData.filter((function(e){return e.id!==t.postId})))});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogsPage/ADD-MESSAGE":return Object(I.a)(Object(I.a)({},e),{},{messagesData:[].concat(Object(E.a)(e.messagesData),[{id:Object(k.a)(),messageContent:t.newMessageText}])});case"dialogsPage/REMOVE-MESSAGE":return Object(I.a)(Object(I.a)({},e),{},{messagesData:Object(E.a)(e.messagesData.filter((function(e){return e.id!==t.messageId})))});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"sidebar/":return Object(I.a)({},e);default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"usersPage/FOLLOW":return Object(I.a)(Object(I.a)({},e),{},{users:ge(e.users,t.userId,!0)});case"usersPage/UNFOLLOW":return Object(I.a)(Object(I.a)({},e),{},{users:ge(e.users,t.userId,!1)});case"usersPage/SET-USERS":return Object(I.a)(Object(I.a)({},e),{},{users:t.users});case"usersPage/SET-CURRENT-PAGE":return Object(I.a)(Object(I.a)({},e),{},{currentPage:t.currentPage});case"usersPage/SET-TOTAL-USERS-COUNT":return Object(I.a)(Object(I.a)({},e),{},{totalUsersCount:t.totalCount});case"usersPage/TOGGLE-IS-FETCHING":return Object(I.a)(Object(I.a)({},e),{},{isFetching:t.value});case"usersPage/TOGGLE-IS-FOLLOWING-PROGRESS":return Object(I.a)(Object(I.a)({},e),{},{followingInProgress:t.inProgress?[].concat(Object(E.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET-USER-DATA":return Object(I.a)(Object(I.a)({},e),t.payload);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/INITIALIZED-SUCCESS":return Object(I.a)(Object(I.a)({},e),{},{initialized:!0});default:return e}},form:wt.a}),yt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||re.d,Nt=Object(re.e)(Ct,yt(Object(re.a)(St.a)));window.__store__=Nt;var Et=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(g.jsxs)("div",{className:p.a.appWrapper,children:[Object(g.jsx)(mt,{}),Object(g.jsx)(h,{}),Object(g.jsxs)("div",{className:p.a.appWrapperContent,children:[Object(g.jsx)(N.b,{exact:!0,path:"/profile/:userId?",render:function(){return Object(g.jsx)(ut,{})}}),Object(g.jsx)(N.b,{exact:!0,path:"/dialogs",render:function(){return Object(g.jsx)(ae,{})}}),Object(g.jsx)(N.b,{exact:!0,path:"/users",render:function(){return Object(g.jsx)(Be,{})}}),Object(g.jsx)(N.b,{exact:!0,path:"/news",render:function(){return Object(g.jsx)(v,{})}}),Object(g.jsx)(N.b,{exact:!0,path:"/music",render:function(){return Object(g.jsx)(_,{})}}),Object(g.jsx)(N.b,{exact:!0,path:"/settings",render:function(){return Object(g.jsx)(y,{})}}),Object(g.jsx)(N.b,{exact:!0,path:"/login",render:function(){return Object(g.jsx)(vt,{})}})]})]}):Object(g.jsx)(Ae,{})}}]),n}(r.Component),It=Object(re.d)(N.f,Object($.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(ie.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t(gt()),Promise.all([n]).then((function(){t({type:"app/INITIALIZED-SUCCESS"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Et),kt=function(){return Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(b.a,{children:Object(g.jsx)($.a,{store:Nt,children:Object(g.jsx)(It,{})})})})};c.a.render(Object(g.jsx)(kt,{}),document.getElementById("root")),i()},43:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__3Dn8Z",dialogsItem:"Dialogs_dialogsItem__1NNkN",textarea:"Dialogs_textarea__2IKdi"}},51:function(e,t,n){e.exports={formControl:"FormsControls_formControl__2Z8L4",error:"FormsControls_error__BtpDs",formSummaryError:"FormsControls_formSummaryError__2qS17"}},68:function(e,t,n){e.exports={profile:"Profile_profile__395W3"}},69:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__1Sq30",button:"MyPosts_button__3kRgS"}},71:function(e,t,n){e.exports={selectedPage:"Pagination_selectedPage__2L2RV",pagination:"Pagination_pagination__2St_3",pageNumber:"Pagination_pageNumber__3_VVs"}},88:function(e,t,n){e.exports={appWrapper:"App_appWrapper__1upY6",appWrapperContent:"App_appWrapperContent__1w-fS"}},91:function(e,t,n){e.exports={item:"DialogItem_item__FOhNE",activeLink:"DialogItem_activeLink__1OjsT"}},94:function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__26XEX",descriptionBlock:"ProfileInfo_descriptionBlock__2MG0-"}},95:function(e,t,n){e.exports={header:"Header_header__tmv2U",loginBlock:"Header_loginBlock__1H5dx"}}},[[291,1,2]]]);
//# sourceMappingURL=main.44f43d53.chunk.js.map