(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{128:function(e,t,n){e.exports={news:"News_news__1E9ra"}},129:function(e,t,n){e.exports={music:"Music_music__P7Nrm"}},130:function(e,t,n){e.exports={settings:"Settings_settings__hPAd8"}},131:function(e,t,n){e.exports={message:"Message_message__1jjej"}},132:function(e,t,n){e.exports={item:"Post_item__1AFhw"}},15:function(e,t,n){e.exports={nav:"Navbar_nav__6-fH1",item:"Navbar_item__3Ldnh",activeLink:"Navbar_activeLink__uFs2O"}},160:function(e,t,n){},287:function(e,t,n){"use strict";n.r(t);var r,s=n(1),a=n.n(s),c=(n(160),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,289)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))}),i=n(62),o=n.n(i),u=n(13),l=n(11),d=n(9),j=n(125),p=n(10),b=n.n(p),f=n(17),h=n(42),O=n(5),g=n(288),m=n(126),x=n.n(m).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"56cc9d09-6ac5-48a7-98d1-6f7ea21ef704"}}),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return x.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},S=function(e){return x.post("follow/".concat(e)).then((function(e){return e.data}))},w=function(e){return x.delete("follow/".concat(e)).then((function(e){return e.data}))},_=function(e){return x.get("profile/".concat(e)).then((function(e){return e.data}))},P=function(e){return x.get("/profile/status/".concat(e)).then((function(e){return e.data}))},C=function(e){return x.put("/profile/status",{status:e}).then((function(e){return e.data}))},y=function(){return x.get("auth/me").then((function(e){return e.data}))},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return x.post("/auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},I=function(){return x.delete("/auth/login").then((function(e){return e.data}))};!function(e){e[e.success=0]="success",e[e.error=1]="error",e[e.captcha=10]="captcha"}(r||(r={}));var k={postsData:[{id:Object(g.a)(),message:"Hello",likesCount:11},{id:Object(g.a)(),message:"Buy",likesCount:15}],profile:null,status:""},E=function(e){return{type:"SET-STATUS",status:e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(O.a)(Object(O.a)({},e),{},{postsData:[].concat(Object(h.a)(e.postsData),[{id:Object(g.a)(),message:t.newPostText,likesCount:0}])});case"SET-USER-PROFILE":return Object(O.a)(Object(O.a)({},e),{},{profile:t.profile});case"SET-STATUS":return Object(O.a)(Object(O.a)({},e),{},{status:t.status});default:return e}},T={dialogsData:[{id:Object(g.a)(),name:"Marta"},{id:Object(g.a)(),name:"Sasha"},{id:Object(g.a)(),name:"Vera"},{id:Object(g.a)(),name:"Anton"},{id:Object(g.a)(),name:"Vanya"}],messagesData:[{id:Object(g.a)(),messageContent:"Hello"},{id:Object(g.a)(),messageContent:"How are you?"},{id:Object(g.a)(),messageContent:"Yo"}]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":return Object(O.a)(Object(O.a)({},e),{},{messagesData:[].concat(Object(h.a)(e.messagesData),[{id:Object(g.a)(),messageContent:t.newMessageText}])});default:return e}},L={},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return e},F={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},M=function(e){return{type:"FOLLOW",userId:e}},R=function(e){return{type:"UNFOLLOW",userId:e}},G=function(e){return{type:"SET-CURRENT-PAGE",currentPage:e}},z=function(e){return{type:"TOGGLE-IS-FETCHING",isFetching:e}},W=function(e,t){return{type:"TOGGLE-IS-FOLLOWING-PROGRESS",isFetching:e,userId:t}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(O.a)(Object(O.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(O.a)(Object(O.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(O.a)(Object(O.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(O.a)(Object(O.a)({},e),{},{followed:!1}):e}))});case"SET-USERS":return Object(O.a)(Object(O.a)({},e),{},{users:t.users});case"SET-CURRENT-PAGE":return Object(O.a)(Object(O.a)({},e),{},{currentPage:t.currentPage});case"SET-TOTAL-USERS-COUNT":return Object(O.a)(Object(O.a)({},e),{},{totalUsersCount:t.totalCount});case"TOGGLE-IS-FETCHING":return Object(O.a)(Object(O.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE-IS-FOLLOWING-PROGRESS":return Object(O.a)(Object(O.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(h.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},H=n(29),q={userId:null,email:null,login:null,captcha:!1,isAuth:!1},J=function(e,t,n,r,s){return{type:"SET-USER-DATA",payload:{userId:e,email:t,login:n,captcha:r,isAuth:s}}},Z=function(){return function(){var e=Object(f.a)(b.a.mark((function e(t){var n,s,a,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return(n=e.sent).resultCode===r.success&&(s=n.data,a=s.id,c=s.email,i=s.login,t(J(a,c,i,!0,!0))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(O.a)(Object(O.a)({},e),t.payload);default:return e}},Y=n(124),V={initialized:!1},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED-SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{initialized:!0});default:return e}},Q=Object(d.c)({profilePage:U,dialogsPage:A,sidebar:D,usersPage:B,auth:K,app:X,form:Y.a}),$=Object(d.e)(Q,Object(d.a)(j.a));window.store=$;var ee=n(25),te=n(26),ne=n(28),re=n(27),se=n(84),ae=n.n(se),ce=n(15),ie=n.n(ce),oe=n(0);function ue(){return Object(oe.jsxs)("nav",{className:ie.a.nav,children:[Object(oe.jsx)("div",{className:ie.a.item,children:Object(oe.jsx)(u.b,{to:"/profile",activeClassName:ie.a.activeLink,children:"Profile"})}),Object(oe.jsx)("div",{className:"".concat(ie.a.item," ").concat(ie.a.active),children:Object(oe.jsx)(u.b,{to:"/dialogs",activeClassName:ie.a.activeLink,children:"Messages"})}),Object(oe.jsx)("div",{className:"".concat(ie.a.item," ").concat(ie.a.active),children:Object(oe.jsx)(u.b,{to:"/users",activeClassName:ie.a.activeLink,children:"Users"})}),Object(oe.jsx)("div",{className:ie.a.item,children:Object(oe.jsx)(u.b,{to:"/news",activeClassName:ie.a.activeLink,children:"News"})}),Object(oe.jsx)("div",{className:ie.a.item,children:Object(oe.jsx)(u.b,{to:"/music",activeClassName:ie.a.activeLink,children:"Music"})}),Object(oe.jsx)("div",{className:ie.a.item,children:Object(oe.jsx)(u.b,{to:"/settings",activeClassName:ie.a.activeLink,children:"Settings"})})]})}var le=n(128),de=n.n(le);function je(){return Object(oe.jsx)("div",{className:de.a.news,children:"News"})}var pe=n(129),be=n.n(pe);function fe(){return Object(oe.jsx)("div",{className:be.a.music,children:"Music"})}var he=n(130),Oe=n.n(he);function ge(){return Object(oe.jsx)("div",{className:Oe.a.settings,children:"Settings"})}var me=n(12),xe=n(43),ve=n.n(xe),Se=n(131),we=n.n(Se);function _e(e){return Object(oe.jsx)("div",{className:we.a.message,children:e.messageContent})}var Pe=n(87),Ce=n.n(Pe);function ye(e){var t="/dialogs/"+e.id;return Object(oe.jsx)("div",{className:"".concat(Ce.a.item," ").concat(Ce.a.activeLink),children:Object(oe.jsxs)(u.b,{to:t,children:[Object(oe.jsx)("img",{src:"https://avatars.mds.yandex.net/get-pdb/1025945/a6f96698-c78d-44fb-b802-38e74e0164dd/s1200",alt:""}),e.name]})})}var Ne=n(123),Ie=function(e){if(!e)return"Field is required"},ke=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},Ee=n(122),Ue=n(44),Te=n(52),Ae=n.n(Te),Le=function(e){e.input;var t=e.meta,n=e.children,r=(Object(Ue.a)(e,["input","meta","children"]),t.touched&&t.error);return Object(oe.jsxs)("div",{className:Ae.a.formControl+" "+(r&&Ae.a.error),children:[Object(oe.jsx)("div",{children:n}),r&&Object(oe.jsx)("span",{children:t.error})]})},De=function(e){var t=e.input,n=(e.meta,e.children,Object(Ue.a)(e,["input","meta","children"]));return Object(oe.jsx)(Le,Object(O.a)(Object(O.a)({},e),{},{children:Object(oe.jsx)("textarea",Object(O.a)(Object(O.a)({},t),n))}))},Fe=function(e){var t=e.input,n=(e.meta,e.children,Object(Ue.a)(e,["input","meta","children"]));return Object(oe.jsx)(Le,Object(O.a)(Object(O.a)({},e),{},{children:Object(oe.jsx)("input",Object(O.a)(Object(O.a)({},t),n))}))},Me=ke(50);var Re=Object(Ne.a)({form:"addMessageForm"})((function(e){return Object(oe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(oe.jsx)("div",{children:Object(oe.jsx)(Ee.a,{className:ve.a.textarea,placeholder:"Enter your message",name:"newMessageText",component:De,validate:[Ie,Me]})}),Object(oe.jsx)("div",{children:Object(oe.jsx)("button",{children:"Add message"})})]})})),Ge=function(e){return{isAuth:e.auth.isAuth}};function ze(e){return Object(l.b)(Ge)((function(t){var n=t.isAuth,r=Object(Ue.a)(t,["isAuth"]);return n?Object(oe.jsx)(e,Object(O.a)({},r)):Object(oe.jsx)(me.a,{to:"/login"})}))}var We=Object(d.d)(Object(l.b)((function(e){return{stateDialogsPage:e.dialogsPage}}),{addMessage:function(e){return{type:"ADD-MESSAGE",newMessageText:e}}}),ze)((function(e){var t=e.stateDialogsPage.dialogsData.map((function(e){return Object(oe.jsx)(ye,{name:e.name,id:e.id},e.id)})),n=e.stateDialogsPage.messagesData.map((function(e){return Object(oe.jsx)(_e,{messageContent:e.messageContent},e.id)}));return Object(oe.jsxs)("div",{className:ve.a.dialogs,children:[Object(oe.jsx)("div",{className:ve.a.dialogsItem,children:t}),Object(oe.jsxs)("div",{className:ve.a.messagesItem,children:[n,Object(oe.jsx)(Re,{onSubmit:function(t){e.addMessage(t.newMessageText)}})]})]})})),Be=n.p+"static/media/user.4409fc97.png",He=n(90),qe=n.n(He);function Je(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],r=1;r<=t;r++)n.push(r);return Object(oe.jsxs)("div",{children:[Object(oe.jsx)("div",{children:n.map((function(t){return Object(oe.jsx)("span",{className:e.currentPage===t?qe.a.selectedPage:"",onClick:function(n){return e.onPageChanged(t)},children:t})}))}),e.users.map((function(t){return Object(oe.jsxs)("div",{children:[Object(oe.jsxs)("span",{children:[Object(oe.jsx)("div",{children:Object(oe.jsx)(u.b,{to:"/profile/"+t.id,children:Object(oe.jsx)("img",{src:null!==t.photos.small?t.photos.small:Be,className:qe.a.userPhoto,alt:""})})}),Object(oe.jsx)("div",{children:t.followed?Object(oe.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){return e.unfollow(t.id)},children:"unFollow"}):Object(oe.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){return e.follow(t.id)},children:"follow"})})]}),Object(oe.jsxs)("span",{children:[Object(oe.jsx)("div",{children:t.name}),Object(oe.jsx)("div",{children:t.status})]}),Object(oe.jsxs)("span",{children:[Object(oe.jsx)("div",{children:"u.location.country"}),Object(oe.jsx)("div",{children:"u.location.city"})]})]},t.id)}))]})}var Ze=n.p+"static/media/preloader.5665744c.svg";function Ke(){return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("img",{src:Ze,alt:""})})}var Ye=function(e){return e.usersPage.users},Ve=function(e){return e.usersPage.pageSize},Xe=function(e){return e.usersPage.totalUsersCount},Qe=function(e){return e.usersPage.currentPage},$e=function(e){return e.usersPage.isFetching},et=function(e){return e.usersPage.followingInProgress},tt=function(e){Object(ne.a)(n,e);var t=Object(re.a)(n);function n(){var e;Object(ee.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.requestUsers(t,e.props.pageSize)},e}return Object(te.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(oe.jsxs)(oe.Fragment,{children:[this.props.isFetching?Object(oe.jsx)(Ke,{}):null,Object(oe.jsx)(Je,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress,toggleIsFollowingProgress:this.props.toggleIsFollowingProgress})]})}}]),n}(a.a.Component),nt=Object(d.d)(Object(l.b)((function(e){return{users:Ye(e),pageSize:Ve(e),totalUsersCount:Xe(e),currentPage:Qe(e),isFetching:$e(e),followingInProgress:et(e)}}),{follow:function(e){return function(){var t=Object(f.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(W(!0,e)),t.next=3,S(e);case 3:t.sent.resultCode===r.success&&n(M(e)),n(W(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(f.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(W(!0,e)),t.next=3,w(e);case 3:t.sent.resultCode===r.success&&n(R(e)),n(W(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:G,toggleIsFollowingProgress:W,requestUsers:function(e,t){return function(){var n=Object(f.a)(b.a.mark((function n(r){var s;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(z(!0)),r(G(e)),n.next=4,v(e,t);case 4:s=n.sent,r(z(!1)),r({type:"SET-USERS",users:s.items}),r({type:"SET-TOTAL-USERS-COUNT",totalCount:s.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(tt),rt=n(65),st=n.n(rt),at=n(91),ct=n.n(at),it=function(e){Object(ne.a)(n,e);var t=Object(re.a)(n);function n(){var e;Object(ee.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateUserStatus(e.state.status)},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e}return Object(te.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.state.status})}},{key:"render",value:function(){return Object(oe.jsxs)("div",{children:[!this.state.editMode&&Object(oe.jsx)("div",{children:Object(oe.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"@@@"})}),this.state.editMode&&Object(oe.jsx)("div",{children:Object(oe.jsx)("input",{onBlur:this.deactivateEditMode,autoFocus:!0,value:this.state.status,onChange:this.onStatusChange})})]})}}]),n}(a.a.Component);function ot(e){return e.profile?Object(oe.jsxs)("div",{className:ct.a.profileInfo,children:[Object(oe.jsx)("div",{children:Object(oe.jsx)("img",{src:"https://images.ctfassets.net/hrltx12pl8hq/7yQR5uJhwEkRfjwMFJ7bUK/dc52a0913e8ff8b5c276177890eb0129/offset_comp_772626-opt.jpg?fit=fill&w=800&h=300",alt:""})}),Object(oe.jsxs)("div",{className:ct.a.descriptionBlock,children:[Object(oe.jsx)("img",{src:e.profile.photos.large,alt:""}),Object(oe.jsx)(it,{status:e.status,updateUserStatus:e.updateUserStatus})]})]}):Object(oe.jsx)(Ke,{})}var ut=n(132),lt=n.n(ut);function dt(e){return Object(oe.jsxs)("div",{className:lt.a.item,children:[Object(oe.jsx)("img",{src:"https://shapka-youtube.ru/wp-content/uploads/2021/02/prikolnaya-avatarka-dlya-patsanov.jpg",alt:""}),e.message,Object(oe.jsx)("div",{children:Object(oe.jsx)("span",{children:e.likesCount})})]})}var jt=n(66),pt=n.n(jt),bt=ke(10);var ft=Object(Ne.a)({form:"addPostForm"})((function(e){return Object(oe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(oe.jsx)("div",{children:Object(oe.jsx)(Ee.a,{placeholder:"enter text",name:"newPostText",component:De,validate:[Ie,bt]})}),Object(oe.jsx)("div",{children:Object(oe.jsx)("button",{className:pt.a.button,children:"Add post"})})]})})),ht=Object(l.b)((function(e){return{postsData:e.profilePage.postsData}}),{addPost:function(e){return{type:"ADD-POST",newPostText:e}}})((function(e){var t=e.postsData.map((function(e){return Object(oe.jsx)(dt,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(oe.jsxs)("div",{className:pt.a.myPosts,children:[Object(oe.jsx)("h3",{children:"My posts"}),Object(oe.jsx)(ft,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(oe.jsx)("div",{children:t})]})}));function Ot(e){return Object(oe.jsxs)("div",{className:st.a.profile,children:[Object(oe.jsx)(ot,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),Object(oe.jsx)(ht,{})]})}var gt=function(e){Object(ne.a)(n,e);var t=Object(re.a)(n);function n(){return Object(ee.a)(this,n),t.apply(this,arguments)}return Object(te.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=JSON.stringify(this.props.authorizedUserId))||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return Object(oe.jsx)("div",{className:st.a.profile,children:Object(oe.jsx)(Ot,{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus})})}}]),n}(a.a.Component),mt=Object(d.d)(Object(l.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(f.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e);case 2:r=t.sent,n({type:"SET-USER-PROFILE",profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(f.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e);case 2:r=t.sent,n(E(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(f.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:0===t.sent.resultCode&&n(E(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),me.f,ze)(gt),xt=n(92),vt=n.n(xt),St=n.p+"static/media/Logo_header.8aaf41b6.png";function wt(e){return Object(oe.jsxs)("header",{className:vt.a.header,children:[Object(oe.jsx)("img",{src:St,alt:""}),Object(oe.jsx)("div",{className:vt.a.loginBlock,children:e.isAuth?Object(oe.jsxs)("div",{children:[e.login," ",Object(oe.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(oe.jsx)(u.b,{to:"/login",children:"Login"})})]})}var _t=function(e){Object(ne.a)(n,e);var t=Object(re.a)(n);function n(){return Object(ee.a)(this,n),t.apply(this,arguments)}return Object(te.a)(n,[{key:"render",value:function(){return Object(oe.jsx)(wt,Object(O.a)({},this.props))}}]),n}(a.a.Component),Pt=Object(l.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:e.sent.resultCode===r.success&&t(J(null,null,null,!1,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(_t),Ct=Object(Ne.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(oe.jsxs)("form",{onSubmit:t,children:[Object(oe.jsx)("div",{children:Object(oe.jsx)(Ee.a,{placeholder:"Email",name:"email",component:Fe,validate:[Ie]})}),Object(oe.jsx)("div",{children:Object(oe.jsx)(Ee.a,{placeholder:"Password",name:"password",component:Fe,validate:[Ie],type:"password"})}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(Ee.a,{type:"checkbox",name:"rememberMe",component:Fe})," remember me"]}),n&&Object(oe.jsx)("div",{className:Ae.a.formSummaryError,children:n}),Object(oe.jsx)("div",{children:Object(oe.jsx)("button",{children:"Login"})})]})})),yt=Object(l.b)((function(e){return{captcha:e.auth.captcha,isAuth:e.auth.isAuth}}),{login:function(e,t,n,s){return function(){var a=Object(f.a)(b.a.mark((function a(c){var i;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,N(e,t,n,s);case 2:(i=a.sent).resultCode===r.success?c(Z()):i.messages.length?c(Object(H.a)("login",{_error:i.messages[0]})):c(Object(H.a)("login",{_error:"Some error"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(oe.jsx)(me.a,{to:"/profile"}):Object(oe.jsxs)("div",{children:[Object(oe.jsx)("h1",{children:"Login"}),Object(oe.jsx)(Ct,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)}})]})})),Nt=function(e){Object(ne.a)(n,e);var t=Object(re.a)(n);function n(){return Object(ee.a)(this,n),t.apply(this,arguments)}return Object(te.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(oe.jsxs)("div",{className:ae.a.appWrapper,children:[Object(oe.jsx)(Pt,{}),Object(oe.jsx)(ue,{}),Object(oe.jsxs)("div",{className:ae.a.appWrapperContent,children:[Object(oe.jsx)(me.b,{exact:!0,path:"/profile/:userId?",render:function(){return Object(oe.jsx)(mt,{})}}),Object(oe.jsx)(me.b,{exact:!0,path:"/dialogs",render:function(){return Object(oe.jsx)(We,{})}}),Object(oe.jsx)(me.b,{exact:!0,path:"/users",render:function(){return Object(oe.jsx)(nt,{})}}),Object(oe.jsx)(me.b,{exact:!0,path:"/news",render:function(){return Object(oe.jsx)(je,{})}}),Object(oe.jsx)(me.b,{exact:!0,path:"/music",render:function(){return Object(oe.jsx)(fe,{})}}),Object(oe.jsx)(me.b,{exact:!0,path:"/settings",render:function(){return Object(oe.jsx)(ge,{})}}),Object(oe.jsx)(me.b,{exact:!0,path:"/login",render:function(){return Object(oe.jsx)(yt,{})}})]})]}):Object(oe.jsx)(Ke,{})}}]),n}(a.a.Component),It=Object(d.d)(me.f,Object(l.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(f.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t(Z()),Promise.all([n]).then((function(){t({type:"INITIALIZED-SUCCESS"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Nt);o.a.render(Object(oe.jsx)(a.a.StrictMode,{children:Object(oe.jsx)(u.a,{children:Object(oe.jsx)(l.a,{store:$,children:Object(oe.jsx)(It,{})})})}),document.getElementById("root")),c()},43:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__3Dn8Z",dialogsItem:"Dialogs_dialogsItem__1NNkN",textarea:"Dialogs_textarea__2IKdi"}},52:function(e,t,n){e.exports={formControl:"FormsControls_formControl__2Z8L4",error:"FormsControls_error__BtpDs",formSummaryError:"FormsControls_formSummaryError__2qS17"}},65:function(e,t,n){e.exports={profile:"Profile_profile__395W3"}},66:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__1Sq30",button:"MyPosts_button__3kRgS"}},84:function(e,t,n){e.exports={appWrapper:"App_appWrapper__1upY6",appWrapperContent:"App_appWrapperContent__1w-fS"}},87:function(e,t,n){e.exports={item:"DialogItem_item__FOhNE",activeLink:"DialogItem_activeLink__1OjsT"}},90:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__Sr8R7",selectedPage:"Users_selectedPage__3gyJ6"}},91:function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__26XEX",descriptionBlock:"ProfileInfo_descriptionBlock__2MG0-"}},92:function(e,t,n){e.exports={header:"Header_header__tmv2U",loginBlock:"Header_loginBlock__1H5dx"}}},[[287,1,2]]]);
//# sourceMappingURL=main.90408181.chunk.js.map