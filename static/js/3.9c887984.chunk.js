(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[3],{293:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var n=s(3),o=s(88),c=(s(0),s(12)),i=s(20),r=s(1),a=function(e){return{isAuth:e.auth.isAuth}};function l(e){return Object(i.b)(a)((function(t){var s=t.isAuth,i=Object(o.a)(t,["isAuth"]);return s?Object(r.jsx)(e,Object(n.a)({},i)):Object(r.jsx)(c.a,{to:"/login"})}))}},294:function(e,t,s){e.exports={profile:"Profile_profile__395W3"}},295:function(e,t,s){e.exports={myPosts:"MyPosts_myPosts__1Sq30",button:"MyPosts_button__3kRgS"}},297:function(e,t,s){e.exports={profileInfo:"ProfileInfo_profileInfo__26XEX",descriptionBlock:"ProfileInfo_descriptionBlock__2MG0-",mainPhoto:"ProfileInfo_mainPhoto__2e_wJ",contact:"ProfileInfo_contact__2WHUC"}},298:function(e,t,s){e.exports={item:"Post_item__1AFhw"}},302:function(e,t,s){"use strict";s.r(t);var n=s(37),o=s(38),c=s(41),i=s(40),r=s(0),a=s(294),l=s.n(a),j=s(96),u=s(297),b=s.n(u),d=s(42),h=s(1),f=function(e){var t=e.status,s=e.updateUserStatus,n=Object(r.useState)(!1),o=Object(j.a)(n,2),c=o[0],i=o[1],a=Object(r.useState)(t),l=Object(j.a)(a,2),u=l[0],b=l[1];Object(r.useEffect)((function(){b(t)}),[t]);return Object(h.jsxs)("div",{children:[!c&&Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Status"}),": ",Object(h.jsx)("span",{onDoubleClick:function(){i(!0)},children:"\ud83d\udd8a\ufe0f ".concat(t," ")})]}),c&&Object(h.jsx)("div",{children:Object(h.jsx)("input",{autoFocus:!0,value:u,onBlur:function(){i(!1),s(u)},onChange:function(e){b(e.currentTarget.value)}})})]})},p=s(106),O=s(48),x=s(128),m=s(129),v=s(50),P=s.n(v),k=Object(m.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.profile,n=e.error;return Object(h.jsxs)("form",{onSubmit:t,children:[Object(h.jsx)("div",{children:Object(h.jsx)("button",{children:"save"})}),n&&Object(h.jsx)("div",{className:P.a.formSummaryError,children:n}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Full name"}),":",Object(h.jsx)(x.a,{placeholder:"Full name",name:"fullName",component:O.a,validate:[]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Looking for a job"}),":",Object(h.jsx)(x.a,{name:"lookingForAJob",component:O.a,validate:[],type:"checkbox"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"My professional skills"}),":",Object(h.jsx)(x.a,{placeholder:"My professional skills",name:"lookingForAJobDescription",component:O.b,validate:[]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"About me"}),":",Object(h.jsx)(x.a,{placeholder:"About me",name:"aboutMe",component:O.b,validate:[]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Contacts"}),": ",Object.keys(s.contacts).map((function(e){return Object(h.jsx)("div",{className:P.a.contact,children:Object(h.jsxs)("b",{children:[e,":",Object(h.jsx)(x.a,{placeholder:e,name:"contacts."+e,component:O.a,validate:[]})]})},e)}))]})]})})),g=function(e){var t=e.profile,s=e.status,n=e.updateUserStatus,o=e.isOwner,c=e.savePhoto,i=e.saveProfile,a=Object(r.useState)(!1),l=Object(j.a)(a,2),u=l[0],O=l[1];if(!t)return Object(h.jsx)(d.a,{});return Object(h.jsx)("div",{className:b.a.profileInfo,children:Object(h.jsxs)("div",{className:b.a.descriptionBlock,children:[Object(h.jsx)("img",{src:t.photos.large||p.a,alt:"",className:b.a.mainPhoto}),o&&Object(h.jsx)("input",{type:"file",onChange:function(e){if(e.target.files){var t=e.target.files[0];c(t)}}}),u?Object(h.jsx)(k,{initialValues:t,profile:t,onSubmit:function(e){i(e).then((function(){O(!1)}))}}):Object(h.jsx)(_,{profile:t,isOwner:o,goToEditMode:function(){return O(!0)}}),Object(h.jsx)(f,{status:s,updateUserStatus:n})]})})},_=function(e){var t=e.profile,s=e.isOwner,n=e.goToEditMode;return Object(h.jsxs)("div",{children:[s&&Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:n,children:"edit"})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Full name"}),": ",t.fullName]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(h.jsx)(y,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},y=function(e){var t=e.contactTitle,s=e.contactValue;return Object(h.jsxs)("div",{className:b.a.contact,children:[Object(h.jsx)("b",{children:t}),": ",s]})},S=s(95),A=s(298),U=s.n(A),w=function(e){var t=e.message,s=e.likesCount;return Object(h.jsxs)("div",{className:U.a.item,children:[Object(h.jsx)("img",{src:"https://shapka-youtube.ru/wp-content/uploads/2021/02/prikolnaya-avatarka-dlya-patsanov.jpg",alt:""}),t,Object(h.jsx)("div",{children:Object(h.jsx)("span",{children:s})})]})},I=s(295),N=s.n(I),M=s(66),C=Object(M.a)(10),F=Object(r.memo)((function(e){var t=e.postsData,s=e.addPost,n=t.map((function(e){return Object(h.jsx)(w,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(h.jsxs)("div",{className:N.a.myPosts,children:[Object(h.jsx)("h3",{children:"My posts"}),Object(h.jsx)(D,{onSubmit:function(e){s(e.newPostText)}}),Object(h.jsx)("div",{children:n})]})})),D=Object(m.a)({form:"addPostForm"})((function(e){var t=e.handleSubmit;return Object(h.jsxs)("form",{onSubmit:t,children:[Object(h.jsx)("div",{children:Object(h.jsx)(x.a,{placeholder:"enter text",name:"newPostText",component:O.b,validate:[M.b,C]})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:N.a.button,children:"Add post"})})]})})),J=s(20),T=Object(J.b)((function(e){return{postsData:e.profilePage.postsData}}),{addPost:S.a})(F),E=function(e){var t=e.profile,s=e.updateUserStatus,n=e.status,o=e.isOwner,c=e.savePhoto,i=e.saveProfile;return Object(h.jsxs)("div",{className:l.a.profile,children:[Object(h.jsx)(g,{profile:t,status:n,updateUserStatus:s,isOwner:o,savePhoto:c,saveProfile:i}),Object(h.jsx)(T,{})]})},B=s(12),V=s(293),z=s(10),L=function(e){Object(c.a)(s,e);var t=Object(i.a)(s);function s(){return Object(n.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"refreshProfile",value:function(){var e=this.props,t=e.match,s=e.authorizedUserId,n=e.history,o=e.getUserProfile,c=e.getUserStatus,i=Number(t.params.userId);i||(i=s)||n.push("/login"),i&&(o(i),c(i))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(h.jsx)("div",{className:l.a.profile,children:Object(h.jsx)(E,{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile})})}}]),s}(r.Component);t.default=Object(z.d)(Object(J.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:S.b,getUserStatus:S.c,updateUserStatus:S.g,savePhoto:S.e,saveProfile:S.f}),B.f,V.a)(L)}}]);
//# sourceMappingURL=3.9c887984.chunk.js.map